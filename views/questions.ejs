<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Quiz</title>
    <link rel="stylesheet" href="questions.css">
</head>
<body>
    <div class="container">
        <h1><strong>英単語脱出ゲーム</strong></h1>
            <div class="questionbox">
                <h3 class="qnum">Question <span id="number">1</span></h3>
                <h3 id="vocab" class="word">問題</h3>
                <button>1</button>
                <br>
                <button>2</button>
                <br>
                <button>3</button>
                <br>
                <button type="button">4</button>
            </div>
    </div>
<script>

    const quiz = [
        {
            question: "assuage",
            answers: ["遊ぶ","静める","触る","寝る"],
            correct: "静める"
        },{
            question:"Obtain",
            answers: ["叫ぶ","伝える","笑う","得る"],
            correct: "得る"
        },{
            question:"timber",
            answers: ["炎","涙","木材","影"],
            correct: "木材"
        },{
            question:"anguish",
            answers: ["起業家","苦痛","くるぶし","氷山"],
            correct: "苦痛"
        },{
            question:"substitute",
            answers: ["代替する","追放する","達する","震える"],
            correct: "代替する"
        },{
            question:"refrain",
            answers: ["慎む","叫ぶ","拡張する","求める"],
            correct: "慎む"
        },{
            question:"revolve",
            answers: ["探す","狙う","睨む","回転する"],
            correct: "回転する"
        },{
            question:"entail",
            answers: ["遅れる","伴う","飾る","誘う"],
            correct: "遅れる"
        },{
            question:"fastidious",
            answers: ["口うるさい","首尾一貫な","甘い","幻想の"],
            correct: "口うるさい"
        },{
            question:"gist",
            answers: ["否定","束","花火","要点"],
            correct: "要点"
        }];

    



    const number = 0;
    const correct = "寝る";
    const $button = document.getElementsByTagName("button");
    var buttonindex = 0;
    const buttonlength = $button.length;
    const quizlength = quiz.length;
    var quizindex = 0;
    
    //セットアップ
    function setup(){
        document.getElementById("vocab").innerHTML = quiz[quizindex].question;
        document.getElementById("number").innerHTML = quizindex+1;
     
  
    for(var i=buttonindex; i<buttonlength;i++){
        $button[i].innerHTML = quiz[quizindex].answers[i];
    }
    }

    setup();


    function clickhandler(e){
        if(quiz[quizindex].correct===e.target.innerHTML){
            alert("突破！");
            quizindex++;

            if(quizindex<quizlength){
                //next 
                setup();
            }else{
                //finish                
                window.location.href = "/finish";
        }
        }else{
            alert("残念！不正解！");
        }
        
        

    }

    for(var i=0;i<$button.length;i++){
        $button[i].addEventListener("click", function(e){
        clickhandler(e);
    })
    }
    




    


    



</script>
</body>
</html>